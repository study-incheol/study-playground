# 1.11. Using JSR 330 Standard Annotations

> [1.11. Using JSR 330 Standard Annotations](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-standard-annotations) μ±•ν„°λ¥Ό μ”μ•½ν• λ‚΄μ©μ…λ‹λ‹¤.

μ¤ν”„λ§ 3.0λ¶€ν„° JSR 330 ν‘μ¤€ μ–΄λ…Έν…μ΄μ…(μμ΅΄μ„± μ£Όμ…)μ„ μ§€μ›ν•©λ‹λ‹¤. JSR 330 μ–΄λ…Έν…μ΄μ…λ“¤μ€ μ¤ν”„λ§ μ–΄λ…Έν…μ΄μ…κ³Ό λ™μΌν•κ² μ¤μΊ”λκ³ , JSR 330 μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„, ν΄λμ¤ν¨μ¤μ— κ΄€λ ¨ jarλ¥Ό μ¶”κ°€ν•΄μ•Ό ν•©λ‹λ‹¤.

{% hint style="success" %}

#### π’΅ 

λ§μ•½ mavenμ„ μ‚¬μ©ν•λ‹¤λ©΄, `javax.inject` μ•„ν‹°ν©νΈλ¥Ό ν‘μ¤€ λ©”μ΄λΈ λ ν¬μ§€ν† λ¦¬λ΅λ¶€ν„° μ°Έμ΅°ν•  μ μμµλ‹λ‹¤.
```xml
<dependency>
    <groupId>javax.inject</groupId>
    <artifactId>javax.inject</artifactId>
    <version>1</version>
</dependency>
```
{% endhint %}

## 1.11.1 Dependency Injection with `@Inject` and `@Named`

`javax.inject.Inject`λ¥Ό `@Autowired` λ€μ‹  μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

```java
import javax.inject.Inject;

public class SimpleMovieLister {

    private MovieFinder movieFinder;

    @Inject
    public void setMovieFinder(MovieFinder movieFinder) {
        this.movieFinder = movieFinder;
    }

    public void listMovies() {
        this.movieFinder.findMovies(...);
        // ...
    }
}
```

`@Autowired`μ™€ κ°™μ΄ `@Inject`μ–΄λ…Έν…μ΄μ…λ„ ν•„λ“,λ©”μ†λ“,μƒμ„±μ μΈμμ— μ‚¬μ© κ°€λ¥ν•©λ‹λ‹¤. λ”κµ°λ‹¤κ°€ μ£Όμ…λ¶€λ¶„μ„ `Provider`νƒ€μ…μΌλ΅ μ„ μ–Έν•μ—¬, `Provider.get()`μ„ ν†µν•΄ λ” μ§§μ€ μ¤μ½”ν”„ λΉμ„ on-demand λ°©μ‹μΌλ΅ μ°Έμ΅°ν•κ±°λ‚, λΉμ„ lazyν•κ² μ•΅μ„Έμ¤ν•  μ μλ‹¤. μ•„λ μμ λ” μ„ μμ λ¥Ό Providerλ΅ λ³€ν™ν• μμ μ…λ‹λ‹¤.
```java
import javax.inject.Inject;
import javax.inject.Provider;

public class SimpleMovieLister {

    private Provider<MovieFinder> movieFinder;

    @Inject
    public void setMovieFinder(Provider<MovieFinder> movieFinder) {
        this.movieFinder = movieFinder;
    }

    public void listMovies() {
        this.movieFinder.get().findMovies(...);
        // ...
    }
}
```

λ§μ•½ μμ΅΄μ„± μ»΄ν¬λ„νΈλ¥Ό qualified μ΄λ¦„μ„ ν†µν•΄ μ£Όμ…λ°›κ³  μ‹¶λ‹¤λ©΄ `@Named`μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
```java
import javax.inject.Inject;
import javax.inject.Named;

public class SimpleMovieLister {

    private MovieFinder movieFinder;

    @Inject
    public void setMovieFinder(@Named("main") MovieFinder movieFinder) {
        this.movieFinder = movieFinder;
    }

    // ...
}
```

`@Autowired`μ™€ λ§μ°¬κ°€μ§€λ΅, `@Inject`λ” `java.util.OPtional`νΉμ€ `@Nullable`κ³Ό ν•¨κ» μ‚¬μ©ν•  μ μμµλ‹λ‹¤. `@Inject`λ” `required` μ†μ„±μ΄ μ—†μΌλ―€λ΅, μ΅°κΈ λ” μ μ©ν•κΈ° μΆ‹μµλ‹λ‹¤. λ‹¤μ 2 μμ λ” `@Inject`μ™€ `@Nullable`μ‚¬μ© μμ μ…λ‹λ‹¤.
```java
public class SimpleMovieLister {

    @Inject
    public void setMovieFinder(Optional<MovieFinder> movieFinder) {
        // ...
    }
}
```

```java
public class SimpleMovieLister {

    @Inject
    public void setMovieFinder(@Nullable MovieFinder movieFinder) {
        // ...
    }
}
```

## 1.11.2. `@Named` and `@ManagedBean`: Standard Equivalents to the `@Component` Annotation
μ‚¬μ©μλ” `@javax.inject.Named`λ‚ `javax.annotation.ManagedBean`μ„ `@Component` λ€μ‹  μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
```java
import javax.inject.Inject;
import javax.inject.Named;

@Named("movieListener")  // @ManagedBean("movieListener") could be used as well
public class SimpleMovieLister {

    private MovieFinder movieFinder;

    @Inject
    public void setMovieFinder(MovieFinder movieFinder) {
        this.movieFinder = movieFinder;
    }

    // ...
}
```

`@Component`λ¥Ό μ»΄ν¬λ„νΈμ— μ΄λ¦„μ—†μ΄ μ‚¬μ©ν•λ” κ²½μ°κ°€ λ€λ¶€λ¶„μ…λ‹λ‹¤. `@Named` μ—­μ‹ λΉ„μ·ν• λ°©μ‹μ„ μ κ³µν•©λ‹λ‹¤. 
```java
import javax.inject.Inject;
import javax.inject.Named;

@Named
public class SimpleMovieLister {

    private MovieFinder movieFinder;

    @Inject
    public void setMovieFinder(MovieFinder movieFinder) {
        this.movieFinder = movieFinder;
    }

    // ...
}
```

λ§μ•½ `@Named`μ΄λ‚ `@ManagedBean`μ„ μ‚¬μ©ν•  λ•, μ¤ν”„λ§ μ–΄λ…Έν…μ΄μ…λ“¤μ„ μ‚¬μ©ν–μ„λ•μ™€ μ°¨μ΄μ—†μ΄ λ™μΌν• λ°©μ‹μΌλ΅ μ»΄ν¬λ„νΈ μ¤μΊλ‹μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
```
@Configuration
@ComponentScan(basePackages = "org.example")
public class AppConfig  {
    // ...
}
```

{% hint style="success" %}

#### π’΅ 

`@Component`μ™€ λ‹¬λ¦¬, JSR-330 `@Named`λ‚ JSR-250 `@ManagedBean`μ€ λ©”νƒ€μ–΄λ…Έν…μ΄μ…μΌλ΅ μ‚¬μ©ν•  μ μ—†μµλ‹λ‹¤. λ§μ•½ μ»¤μ¤ν…€ μ»΄ν¬λ„νΈ μ–΄λ…Έν…μ΄μ…μ„ λΉλ“ν•λ ¤λ©΄ μ¤ν”„λ§μ μ¤ν…λ μ¤νƒ€μ… λ¨λΈμ„ μ‚¬μ©ν•΄μ•Όλ§ ν•©λ‹λ‹¤. 
{% endhint %}

## 1,11,3. Limitations of JSR-330 Standard Annotations

ν‘μ¤€ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•  λ•, ν™μ©ν•  μ μ—†λ” μ¤‘μ”ν• κΈ°λ¥λ“¤μ„ μ•„λμ— μ •λ¦¬ν–μµλ‹λ‹¤.

**Table 6. Spring component model elements versus JSR-330 variants**

Spring|javax.Inject.*|javax.inject restrictions / comments
--|--|--
@Autowired|@Inject|`@Inject`λ” "required" μ†μ„±μ΄ μ—†κΈ°λ•λ¬Έμ—, java 8μ `Optional`μ„ λ€μ‹ μ‚¬μ©ν•΄μ•Όν•©λ‹λ‹¤.
@Component|@Named/@ManagedBean|JSR-330μ€ composable modelμ„ μ κ³µν•μ§€ μ•μΌλ©°, μ¤μ§ λ…λ…λ μ»΄ν¬λ„νΈλ¥Ό μ‹λ³„ν•λ” λ°©λ²•λ§ μ κ³µν•©λ‹λ‹¤.?
@Scope("singleton")|@Singleton|JSR-330μ κΈ°λ³Έ μ¤μ½”ν”„λ” μ¤ν”„λ§μ `prototype`μ¤μ½”ν”„μ§€λ§, μ¤ν”„λ§μ κΈ°λ³Έ μ¤μ½”ν”„μ™€ ν†µμΌμ„±μ„ μ„ν•΄, μ¤ν”„λ§ μ»¨ν…μ΄λ„ λ‚΄ JSR-330 λΉλ“¤μ€ `singleton`μ„ κΈ°λ³Έ μ¤μ½”ν”„λ΅ ν•λ‹¤. `singleton`μ΄μ™Έμ μ¤μ½”ν”„λ¥Ό μ΄μ©ν•κΈ° μ„ν•΄μ„ μ¤ν”„λ§μ `@Scope`μ„ μ΄μ©ν•΄μ•Ό ν•λ‹¤. `javax.inject`μ—­μ‹ [@Scope](https://docs.oracle.com/javaee/6/api/javax/inject/Scope.html) μ–΄λ…Έν…μ΄μ…μ„ μ κ³µν•©λ‹λ‹¤. κ·ΈλΌμ—λ„ λ¶κµ¬ν•κ³  μ΄ μ–΄λ…Έν…μ΄μ…μ€ μ‚¬μ©μμ •μ μ£Όμ„μ„ λ§λ“λ” μ©λ„λ΅λ§ μ‚¬μ©λ©λ‹λ‹¤.
@Qualifier|@Qualifier / @Named|`javax.inject.Qualifier`λ” μ»¤μ¤ν…€ Qualifierλ¥Ό λΉλ“ν•λ”λ° μ‚¬μ©λλ” λ©”νƒ€μ–΄λ…Έν…μ΄μ… μ…λ‹λ‹¤. `λ¬Έμμ—΄` qualifier(valueκ°€ λ…μ‹λ μ¤ν”„λ§μ `@Qualifier`)λ” `java.inject.Named`λ¥Ό ν†µν•΄μ„ μμ΅΄μ„± μ£Όμ…μ„ λ°›μ„ μ μμµλ‹λ‹¤. 
@Value|-|-
@Required|-|-
@Lazy|-|-
ObjectFactory|Provider|`javax.inject.Provider`λ” μ¤ν”„λ§μ `ObjectFactory`λ¥Ό λ€μ²΄ν•  μ μμµλ‹λ‹¤. μ¤ν”„λ§μ `@Autowired`μ™€ μ΅°ν•©ν•κ±°λ‚, μ–΄λ…Έν…μ΄μ…λμ§€ μ•μ€ μƒμ„±μ, μ„Έν„° λ©”μ†λ“μ—λ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.